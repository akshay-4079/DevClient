
<h3>User Stories</h3>
<div class="accordion" id="accordionExample">
    <div class="card" *ngFor="let key of outputs;let i=index">
      <div  class="card-header" [id]="'heading'+i">
        <h5 class="mb-0">
            <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
                <a class="navbar-brand" style="color:aliceblue">{{key[0].id}}</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" [attr.data-target]="'#navbarSupportedContent'+i" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon"></span>
                </button>
              
                <div class="collapse navbar-collapse" [id]="'navbarSupportedContent'+i">
                  <ul class="navbar-nav mr-auto">
                    <li class="nav-item active" style="margin-top:auto;margin-bottom:auto">
                      <a class="nav-link">{{key[0].fields["System.Title"]}}</a>
                    </li>
                    <li class="nav-item" style="margin-top:auto;margin-bottom:auto">
                      <a class="nav-link" >Priority: {{key[0].fields["Microsoft.VSTS.Common.Priority"]}}</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link"><img src="{{key[0].fields['System.AssignedTo']['imageUrl']}}"></a>
                      </li>
                    <li class="nav-item" style="margin-top:auto;margin-bottom:auto">
                        <a class="nav-link" >{{key[0].fields['System.AssignedTo']['displayName']}}</a>
                      </li>
                  
                  </ul>
                  
                    <button class="btn btn-outline-success my-2 my-sm-0" type="button" data-toggle="collapse" [attr.data-target]="'#collapse'+i" aria-expanded="true" [attr.aria-controls]="'collapse'+i">See Details</button>
                   
                 
                </div>
              </nav>
                
        </h5>
        </div>
      <div [id]="'collapse'+i" class="collapse hide" [attr.aria-labelledby]="'heading'+i" data-parent="#accordionExample">
        <div class="card-body">
            <table class="table table-striped table-dark">
                <thead>
                  <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Title</th>
                    <th scope="col">Current Status</th>
                    <th scope="col">Assigned To</th>
                    <th scope="col">Estimated Work</th>
                    <th scope="col">Remaining Work</th>
                    <th scope="col">Completed Work</th>
                    <th scope="col"></th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let entry of outputs[i][1]">
                    <td>{{entry.id}}</td>
                    <td> {{entry.fields["System.Title"]}}</td>
                    <td> {{entry.fields["System.State"]}} </td>
                    <td> {{entry.fields["System.AssignedTo"]["displayName"]}}</td>
                    <td> {{entry.fields["Microsoft.VSTS.Scheduling.OriginalEstimate"]}}</td>
                    <td> {{entry.fields["Microsoft.VSTS.Scheduling.RemainingWork"]}}</td>
                    <td> {{entry.fields["Microsoft.VSTS.Scheduling.CompletedWork"]}}</td>
                    <td><button class="btn btn-primary" (click)="onSaveId(entry.id)">Get Metrics</button></td>
                  </tr>
                </tbody>
              </table>
         
        </div>
      </div>
    </div>
    
   
  </div>